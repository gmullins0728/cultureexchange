
<main>
<div class="chat-container">

  <!-- Header -->
  <header class="chat-header">
    <h1>Culture Exchange Chat</h1>
    <button class="btn"><a routerLink="/">Leave Room</a></button>
  </header>

  <!-- Messages -->
  <main class="chat-main">
    <div class="chat-messages" #scrollframe>
      <ul class="message" *ngFor="let message of messageList" #item>
        <!-- if admin -->
        <li *ngIf="message.from.type === 'admin'" class="chat-message-admin">
          <p class="text">{{ message.content }}</p>
        </li>
        <!-- if visitor -->
        <li *ngIf="message.from.type === 'visitor'" class="chat-message visitor">
          <p class="meta" *ngIf="message.action === undefined">{{ message.from.name }}<span> {{ message.time }}</span>
          </p>
          <p class="text">{{ message.content }}</p>
          <p [ngClass]="[message.translatedcontent != undefined ? 'translatedtext' : 'translatedtext-hidden']">
            <br />{{ message.translatedcontent }}</p>
        </li>
        <!-- if guide -->
        <li *ngIf="message.from.type === 'guide'" class="chat-message guide">
          <p class="meta" *ngIf="message.action === undefined"><span>{{ message.time }}</span> {{ message.from.name }}
          </p>
          <p class="text">{{ message.content }}</p>
          <p [ngClass]="[message.translatedcontent != undefined ? 'translatedtext' : 'translatedtext-hidden']">
            <br />{{ message.translatedcontent }}</p>
        </li>
      </ul>
    </div>
  </main>

  <!-- Send Message Form -->
  <div class="chat-form-container">
    <form id="chat-form" (ngSubmit)="sendMessage()">
      <input id="msg" [(ngModel)]="txtMessage" name="txtMessage" type="text" placeholder="Enter Message" required
        autocomplete="off" />
      <button class="btn"><i class="fas fa-paper-plane"></i> Send</button>
    </form>
  </div>

</div>
</main>